<form [formGroup]="form" *ngIf="form">
  <mat-accordion>
    <mat-expansion-panel
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header>
        <mat-panel-title>Charts</mat-panel-title>
      </mat-expansion-panel-header>
      <div formArrayName="charts">
        <div *ngFor="let chart of charts().controls; index as i">
          <div [formGroupName]="i" style="margin-bottom: 20px">
            <div fxLayout="row" fxLayoutAlign="space-between center">
              <div>Chart â„–{{ i + 1 }}</div>
              <div>
                <mat-icon class="delete" (click)="deleteChart(i)"
                  >delete</mat-icon
                >
              </div>
            </div>

            <div
              fxLayout="column"
              fxLayoutAlign="start center"
              style="width: 100%"
            >
              <!-- CHART ID -->
              <mat-form-field class="full-width">
                <mat-label>Chart ID</mat-label>
                <textarea
                  cdkTextareaAutosize
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="13"
                  type="text"
                  matInput
                  formControlName="id"
                ></textarea>
                <mat-error *ngIf="chart">Chart ID is required </mat-error>
              </mat-form-field>

              <!-- CHART TYPE -->
              <mat-form-field class="full-width">
                <mat-label>Chart Type</mat-label>
                <mat-select formControlName="type">
                  <mat-option value="standart-chart">Standart Chart</mat-option>
                  <mat-option value="map-chart">Map Chart</mat-option>
                </mat-select>
                <mat-error *ngIf="chart">Chart Type is required </mat-error>
              </mat-form-field>

              <!-- CSS CLASS -->
              <mat-form-field class="full-width">
                <mat-label>CSS Class</mat-label>
                <textarea
                  cdkTextareaAutosize
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="13"
                  type="text"
                  matInput
                  formControlName="ngClass"
                ></textarea>
                <mat-error *ngIf="chart">CSS CLASS is required </mat-error>
              </mat-form-field>
            </div>
          </div>
        </div>
      </div>
      <div fxLayoutAlign="end start" style="width: 100%">
        <button mat-button (click)="addChart()">Add Chart</button>
        <button mat-button (click)="onSubmit()">Save Charts</button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</form>

<!-- <form [formGroup]="form" *ngIf="form">
  <mat-accordion>
    <mat-expansion-panel
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header>
        <mat-panel-title>Open Graph</mat-panel-title>
      </mat-expansion-panel-header>
      <div fxLayout="column" fxLayoutAlign="start start">
        <!--TITLE-->
<!-- <mat-form-field class="full-width">
          <mat-label>Title</mat-label>
          <textarea
            cdkTextareaAutosize
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="13"
            type="text"
            matInput
            formControlName="title"
          ></textarea>
        </mat-form-field> -->

<!--TYPE-->
<!-- <mat-form-field class="full-width">
          <mat-label>Type</mat-label>
          <input type="text" matInput formControlName="type" />
        </mat-form-field> -->

<!--DESCRIPTION-->
<!-- <mat-form-field class="full-width">
          <mat-label>Description</mat-label>
          <textarea
            cdkTextareaAutosize
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="13"
            type="text"
            matInput
            formControlName="description"
          ></textarea>
        </mat-form-field> -->

<!--LOCALE-->
<!-- <mat-form-field class="full-width">
          <mat-label>Locale</mat-label>
          <input type="text" matInput formControlName="locale" />
        </mat-form-field> -->

<!--SITE URL-->
<!-- <mat-form-field class="full-width">
          <mat-label>Site URL</mat-label>
          <textarea
            cdkTextareaAutosize
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="13"
            type="text"
            matInput
            formControlName="site_url"
          ></textarea>
        </mat-form-field> -->

<!--IMAGE-->
<!-- <mat-form-field class="full-width">
          <mat-label>Image</mat-label>
          <textarea
            cdkTextareaAutosize
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="13"
            type="text"
            matInput
            formControlName="image"
          ></textarea>
        </mat-form-field>
      </div>
      <div fxLayoutAlign="end start" style="width: 100%">
        <button mat-button (click)="onSubmit()">Save</button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</form> -->
